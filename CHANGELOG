Cobbler CHANGELOG
(all entries mdehaan@redhat.com unless noted otherwise)

* Thu Jan 31 2007 - 0.7.2
- default_virt_file_size and default_virt_ram added to settings
- enforce permissions/selinux context after reposync
- better API for copying/renames, API consistancy cleanup
- support for renames that resolve dependencies, inclusion in CLI+webapp
- remove leading newline in rendered template files, which apparently breaks AutoYAST?
- recursive syncs automatically sync all subobjects when editing parent objects (default behavior)
- deletes can now be done recursively (optional --recursive on distro/profile remove)
- 'cobbler list' is now (re)sorted

* Wed Jan 09 2007 - 0.7.1
- allow imports to force usage of a specific kickstart template with --kickstart
- added --yumopts parameter to repos (works just like --kopts/--ksmeta)
- minor doc fixes
- fix for name of F8 comps.xml file
- added option --rsync-flags to import command
- added http_port to settings to run Apache on non-80
- rsync during createrepo now keeps filesystem permissions/groups
- ...

* Mon Dec 10 2007 - 0.7.0
- Testing branch
- Fix bug related to <<inherit>> and kickstart args 
- Make CLI functions modular and use optparse
- Quote wget args to avoid creating stray files on target system
- Support Xen FV as virt type (requires F8+)
- Implemented fully pluggable authn/authz system
- WebUI is now mod_python based
- Greatly enhanced logging (goes to /var/log/cobbler/cobbler.log)
- ...

* Wed Nov 14 2007 - 0.6.4
- Changed permissions of auth.conf
- Fixes for working with rhn_yum_plugin
- still allow repo configuration for distro repos that have just 1 repo (like C5.1)
- disable CGI weblogging by default (backend logging TBA)
- fix WebUI handling of keep_updated (repo field) and netboot_enabled (system field)
- disable the blender_cache as it's running afoul of the sync code
- update htaccess file to only authenticate the webui, not nopxe.cgi and findks.cgi

* Wed Nov 07 2007 - 0.6.3
- Be able to define and use Multiple NICs per system
- Add --virt-cpus to profile editing
- Fix bug where WUI (XMLRPC) auth wasn't supported on EL4
- Add --virt-bridge to profile editing and NICs
- Added serializer_shelve (as option) for added performance/persistance over YAML, experimental in /etc/cobbler/modules.conf, see Wiki
- Backup state files and migrate state structures upon RPM upgrade
- Added some more redundant files (for unsupported distros) to the rsync.exclude file
- added pre-sync and post-sync triggers, service restarts are now handled by /var/lib/cobbler/triggers
- webui now uses htaccess (see manpage and Wiki for setup instructions)
- added pagination to the WUI to keep pages from growing overly long
- added --server-override parameter for help with multi-subnet configurations (also see Wiki)
- removed yum-utils as a hard requirement, cobbler check now looks for yum-utils
- fixed bug where cobbler would try to copy hardlinks to themselves during sync
- misc random bugfixing

* Fri Sep 28 2007 - 0.6.2
- cobbler repo auto-add to discover yum repos automatically
- fix bug that allows empty mac addresses (None) in dhcpd.conf
- kickstarts automatically save kickstart file used to /root/cobbler.ks
- allow multiple (comma-seperated) values for --virt-size
- removed deprecated 'enchant' function (use SSH and koan instead)
- cleanup of a few unused settings
- allow for serialization modules to be selected in /etc/cobbler/modules.conf
- patch to allow for reposync of specific repos, even if not set to update
- added --dhcp-tag section for better DHCP customization (esp with multiple subnets)
- added Apache proxying around XMLRPC port for wider network access
- refactor XMLRPC API and establish a read-write API
- allow for configuring of read-write XMLRPC users in /etc/cobbler/auth.conf
- WebUI
- packaged /var/lib/cobbler/settings as a config file
- added BuildRequires to help build on other platforms
- relocate cgi-bin files to cgi-bin/cobbler for namespacing
- fix syslog logging for systems not in the cobbler DB.
- fix bug in which non-lowercase intermediate objects could be deleted 
 
* Thu Aug 30 2007 - 0.6.1
- re enable --resolve in yumdownloader (cobbler repo mgmt feature)
- fix get_distros_for_koan API function in cobblerd (not used by koan)
- allow find API to search by arbitrary fields
- status and logging now shows system names
- upgraded init scripts
- zeroconf/avahi publishing for cobblerd service
- logRequests = 0 for XMLRPC.  Make it be quiet.
- ignore subdirectories of /var/lib/cobbler/snippets
- fixed bug in graph rendering that allowed for upward property propogation in some cases
- fixed bug that did not correctly evaluate repository settings of inherited sub-profiles/objects
- tweaked domU sample kickstart to include wget
- added some more unit tests
- fix typo down one error path in cobbler sync.
- fix reposync handling when using rsync protocol and directory paths do not contain arch
- allow basic usage of Cheetah variables in config files @@server@@, etc.
- fix auto-repo attachment for distros with split trees (i.e. RHEL5)

* Thu Aug 09 2007 - 0.6.0 
- bugfix in error path in "cobbler check"
- stable release for 0.5.x

* Thu Jul 26 2007 - 0.5.2 (RC)
- Have cobbler check ensure services are started
- Add cobbler validateks command to look for broken rendered kickstarts
- Added -v/--version
- Added SNIPPET::foo capability to pull /var/lib/cobbler/snippets/foo into templates (anywhere)
- Import can now take an --available-as=nfs://server:/mount/point to do cobbler import without mirroring
- Feature to enable "pxe_just_once" for boot loop prevention

* Fri Jul 20 2007 - 0.5.1
- Added logging for cobblerd -- /var/log/cobbler/cobblerd.log
- Cobblerd now ignores XMLRPC IOError
- Added findks.cgi
- Misc bugfixing
- Added --virt-path, --virt-type

* Wed Jun 24 2007 - 0.5.0
- Remove hardcode of /var/www/cobbler in cobblerd
- Improve various warning warning messages
- cobbler (objecttype) (objectname) now gives info about the object instead of just all objects
- Added --hostname to "cobbler system add", --ip-address (or --ip) is also a better alias for the misnamed --pxe-address
- Optionally use dnsmasq for DHCP (and DNS!) instead of ISC dhcpd.
- Add --mac and remove requirement for --name to be an ip, mac, or hostname.
- Manpage cleanup
- Patch to allow pre and post triggers
- Patch to allow --createrepo-flags and to cache on import, fix multiple calls to createrepo
- Various modifications to allow for profile inheritance
- All variables in object tree now available for use in templating, nicer blending algorithms
- Optional override of --kickstart in system object

* Thu Apr 26 2007 - 0.4.8
- Make import friendlier for older distros
- Make import friendlier for newer createrepos that don't have --basedir

* Fri Apr 20 2007 - 0.4.7
- Disable mod_python tracker piece for RHEL5 (replacement eventual).
- Kickstart tracking now understands Apache logs
- Added support for --rpm-list parameter to "repo add" for download of partial content from repositories
  (ex: cobbler and koan from FC6extras, w/o games).
- More consistant naming on imports, regardless of data source.
- Teach cobbler to remove .olddata dirs, which can happen if createrepo crashes or is killed mid-process
- Default yum_core_repos_from_server to 0 
- Implemented triggers for add/delete commands
- BootAPI and Config object classes are now Borg patterned to prevent duplication of config info from the API.
- cobbler_syslogd -> cobblerd, now has XMLRPC component for koan >= 0.2.9 clients.  Old clients still work.
- Make cobbler_import work for Centos 5
- Removed requirements on what files that are parameters to --kernel and --initrd must be named.
- Added support for "rename", "copy", and "edit" commands -- before there just was "add" and "remove"

* Thu Apr 05 2007 - 0.4.6
- Bind cobbler_syslogd to all addresses
- Store repos as list, not string
- Fix traceback in cobbler_sync with older configurations (pre-kickstart tracking)
- Make cobbler import feature better understand older RHEL and in-between builds of Fedora.
- Make cobbler repo add/reposync understand http://, ftp://, and some limited support for RHN.
- Add settings parameter to toggle core repo mirror behavior on/off.
- Manpage cleanup.

* Fri Mar 23 2007 - 0.4.5
- Removed legacy --virt-name parameter, requires koan upgrade to 0.2.8

* Fri Mar 23 2007 - 0.4.4
- Generate PXE configuration files from templates in /etc/cobbler to be more customizable
- Fix bug with wrong kickstart metadata being used for import
- Fix bug with argument parsing for --repos
- Much cleaner distro/profile names with --import
- For import, the "tree" parameter is now attached to the distro, not the profile
- Add "links" directory in webdir for symlinking to full kickstart tree paths.
- Misc tweaks to shorten kernel parameter length
- Giving invalid arguments to "report" will show an error message
- Distros, Profiles, and System names are now case insensitive.

* Wed Feb 28 2007 - 0.4.3
- Added netboot_enabled option for systems to control install loops in programmatic context.
- Disabling anchors in YAML serialization (which make files harder to edit)
- Fix bug in ksmeta argument processing, takes whitespace again, not commas
- Fix bug in old-style deserialization with str and int concatenation

* Mon Feb 19 2007 - 0.4.2
- Fix bug in "cobbler system remove"

* Mon Feb 19 2007 - 0.4.1
- Bundle menu.c32 for older distros
- Unbundle Cheetah as it's available at http://www.python.org/pyvault/centos-4-i386/

* Mon Feb 19 2007 - 0.4.0
- Added feature to minimize the need to run "cobbler sync" for add commands
  Now only need to run sync when files change behind the scenes or when
  manually editing YAML
- Moving back to Cheetah for templating (old kickstarts should escape $ with \$)
- PXE menus for the default profile.  Type "menu" at the prompt to get a menu, or wait for local boot.
- Manpage cleanup and clarification
- Bugfix: cobbler will no longer create repo files on remotes when --local-filename is not used for "repo add"

* Mon Jan 28 2007 - 0.3.9
- Make init scripts correspond with FC-E guidelines

* Thu Jan 24 2007 - 0.3.8
- Fixed minor bug in logfile processing related to 0.3.7

* Thu Jan 24 2007 - 0.3.7
- Default/examples kickstarts are now fully automatic (added hd type/size detection).
- Kickstart tracking now includes remote syslog support, just run "cobbler sync" to enable.
- "cobbler status" command improved to include syslog info/times.
- Added fc6 kickstart file that was left out of the RPM earlier
- Added mini domU kickstart
- bugfix: don't install mod_python watcher on older Apache installs (like RHEL4) as it
  somehow corrupts downloads on older copies.  kickstart tracking by syslog still works
  on those platforms.  (This only applies to the cobbler server, not clients).

* Thu Dec 21 2006 - 0.3.6
- locking feature now enabled
- "enchant" now supports provisioning virtual images remotely when using --is-virt=yes
- cobbler no longer restarts httpd if the config file already exists.
- "cobbler repo sync" is now an alias for "cobbler reposync"
- "cobbler list --something" can now be invoked as "cobbler something list"
- "cobbler list" just shows names of items now
- "cobbler report" is now used for showing full information output
- "list" (as well as report) are now sorted alphabetically
- basic kickstart tracking feature. requests on /var/www/cobbler get logged to /var/log/cobbler.

* Wed Dec 20 2006 - 0.3.5
- Fixed bug in cobbler import related to orphan detection
- Made default rsync.exclude more strict (OO langpacks and KDE translation)
- Now runs createrepo during "cobbler import" to build more correct repodata
- Added additional repo mirroring commands:  "cobbler repo add", etc
- Documentation on repo mirroring features.
- fix bug in rsync:// import code that saved distributions in the wrong path
- The --dryrun option on "cobbler sync" is now unsupported.
- Fixed bug in virt specific profile information not being used with koan
- import now takes --name in addition to --mirror-name to be more consistant
- rsync repo import shouldn't assume SSH unless no rsync:// in mirror URL
- strict host key checking disabled for "cobbler enchant" feature

* Mon Dec 05 2006 - 0.3.4
- Don't rsync PPC content or ISO's on cobbler import
- Manpage cleanup

* Tue Nov 14 2006 - 0.3.3
- During "cobbler sync" only PXE-related directories in /tftpboot
  are deleted.  This allows /tftpboot to be used for other
  purposes.

* Thr Oct 25 2006 - 0.3.2
- By default, boot and install in text mode

* Wed Oct 25 2006 - 0.3.1
- The app now refers to "virt" in many places instead of "xen".
  It's been coded such that files will migrate forward without
  any major issues, and the newer version of koan can still hit
  older releases (for now).  The CLI still takes the --xen options
  as well as the new --virt options, as they are aliased.  The API
  now exclusively just uses methods with "virt" in them, however.
- ...

* Thu Dec 14 2007 - 0.7.0
- Testing branch
- Fix bug related to <<inherit>> and kickstart args 
- Make CLI functions modular and use optparse
- Quote wget args to avoid creating stray files on target system
- Support Xen FV as virt type (requires F8+)
- Implemented fully pluggable authn/authz system
- WebUI is now mod_python based
- Greatly enhanced logging (goes to /var/log/cobbler/cobbler.log)
- New --no-triggers and --no-sync on "adds" for performance and other reasons
- pxe_just_once is now much faster.
- performance testing scripts (in source checkout)
- webui now uses Apache logging
- misc webui fixes
- remove -b from wgets since busybox doesn't have -b in wget
- rename default/sample kickstarts to avoid confusion
- Fixed some bugs related to kickstart templating

* Tue Oct 24 2006 - 0.3.0
- Reload httpd during sync
- New profiles without set kickstarts default to /etc/cobbler/default.ks
  though this can be changed in /var/lib/cobbler/settings
- Better forward upgrades for /var/lib/cobbler/settings.  New entries
  get added when they are referenced.

* Tue Oct 24 2006 - 0.2.9
- Bug fix, enchant now detects if koan_path is not set
- import now can do ssh rsync as well as just rsyncd
- Misc bug fixes related to not choking on bad info
- Fixed bug where --pxe-address wasn't surfaced
- Sync is a little less verbose

* Wed Oct 18 2006 - 0.2.8
- Performance speedups to "import" command
- Bug fix, imported paths (again) convert slashes to underscores

* Tue Oct 17 2006 - 0.2.7
- Removed pexpect to enhance support for other distros
- enchant syntax changed (see NEWS)
- now builds on RHEL4

* Tue Oct 17 2006 - 0.2.6
- Removing Cheetah and replacing w/ simpler templating system
- Don't delete localmirror on sync

* Mon Oct 16 2006 - 0.2.5
- New "import" feature for rsync:// mirrors and filesystem directories
- Manpage clarification
- "enchant" is now a subcommand of "cobbler system" and takes less arguments.
- Several random bugfixes (mainly along error paths)

* Wed Oct 11 2006 - 0.2.4
- Changes to make things work with python 2.3 (RHEL4, etc)
- Updated YAML code to ensure better backward compatibility

* Mon Oct 9 2006 - 0.2.3
- Cobbler now creates a profile and system listing (YAML) in /var needed
  by the next version of koan (which will be 0.2.1)
- bugfix: enchant should reboot the target box
- bugfix: enchant should fail if path to koan isn't configured

* Fri Oct 6 2006 - 0.2.2
- bugfix: "--pxe-hostname" made available in CLI and renamed as "--pxe-address"
- workaround: elilo doesn't do MAC address pxe config files, use IP for ia64
- bugfix: added next-server line for per-MAC dhcp configs
- bugfix: fixed manpage errors

* Thu Sep 28 2006 - 0.2.1
- New ability to "enchant" remote systems (see NEWS)
- Misc. bugfixes

* Fri Sep 22 2006 - 0.2.0
- New dhcp.d conf management features (see NEWS)
- IA64 support (see NEWS)
- dhcpd.conf MAC & hostname association features

* Thu Sep 21 2006 - 0.1.1-8
- (RPM) Added doc files to doc section, removed INSTALLED_FILES

* Wed Sep 20 2006 - 0.1.1-7
- Split HTTP and TFTP content to seperate directories
  to enable running in SELinux targetted/enforcing mode.
- Make the Virt MAC address a property of a system, not a profile
- Misc. fixes, mainly along the error path

* Fri Sep 15 2006 - 0.1.1-6
- Make koan own it's directory, add GPL "COPYING" file.

* Wed Aug 16 2006 - 0.1.1-5
- Spec file tweaks only for FC-Extras

* Thu Jul 20 2006 - 0.1.1-4
- Fixed python import paths in yaml code, which errantly assumed yaml was installed as a module.

* Wed Jul 12 2006 - 0.1.1-3
- Added templating support using Cheetah

* Thu Jul 9 2006 - 0.1.0-2
- Fedora-Extras rpm spec tweaks

* Tue Jun 28 2006 - 0.1.0-1
- rpm genesis


